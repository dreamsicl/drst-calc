<div class="panel-group container-fluid row" id="groove" ng-controller="GrooveCtrl">
    <!--- remaining time -->
    <div class="col-lg-3 col-padding">
        <form name="timing" class="form-horizontal timing">

            <div class="panel" ng-class="timing.$error.required ? 'panel-warning' : 'panel-default'">
                <div class="panel-heading" ng-click="grooveCollapse.time = !grooveCollapse.time;setLocalCollapse()">
                    <h3 class="panel-title">
                        <span class="glyphicon" ng-class="{'glyphicon-chevron-down': grooveCollapse.time, 'glyphicon-chevron-up': !grooveCollapse.time}"></span>
                        Remaining Time</h3>
                </div>

                <div uib-collapse="grooveCollapse.time" class="panel-body" ng-init="initTime();" bs-loading-overlay>
                    <div class="btn-group btn-group-justified" style-"width: 100%; display: block">
                        <label class="btn btn-primary" ng-model="time.kind" uib-btn-radio="'auto'" ng-click="updateTimeKind('auto')">Automatic</label>
                        <label class="btn btn-primary" ng-model="time.kind" uib-btn-radio="'manu'" ng-click="updateTimeKind('manu')">Manual</label>
                    </div>
                    <hr>
                    <div ng-if="time.kind=='auto'">
                        <div class="alert alert-warning" ng-if="!time.deadline" class="list-group-item bg-warning">No ongoing event.</div>

                        <ul class="list-group" ng-if="time.deadline">
                            <li class="list-group-item">Current time:
                                <span class="label label-default pull-right">{{time.clock | date: 'medium'}}</span>
                            </li>
                            <li ng-if="time.deadline" class="list-group-item">Event ends at:
                                <span class="label label-default pull-right">{{time.deadline | date: 'medium'}}</span>
                            </li>
                            <li ng-if="time.deadline" class="list-group-item">Time left:
                                <span class="label label-default pull-right">{{time.remainingMs/1000/60 | time:'mm':'hhh mmm':false}}
                                </span>
                            </li>
                        </ul>
                    </div>
                    <div ng-if="time.kind=='manu'">
                        <div class="form-group col-xs-12" style="margin-bottom:0px;">
                            <label for="manualTime">Time left (in hours):</label>
                            <input name="hours" class="col-xs-12" type="number" min="0" name="manualTime" ng-model="time.hours" ng-change="updateTimeHrs()" required></input>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- groove settings -->
    <div class="col-lg-3 col-padding">

        <div class="panel panel-default">
            <div class="panel-heading" ng-click="grooveCollapse.song = !grooveCollapse.song;setLocalCollapse()">
                <h3 class="panel-title">
                    <span class="glyphicon" ng-class="{'glyphicon-chevron-down': grooveCollapse.song, 'glyphicon-chevron-up': !grooveCollapse.song}"></span>
                    Song Settings</h3>
            </div>
            <div uib-collapse="grooveCollapse.song" class="panel-body">
                <form class="form-horizontal" style="margin: 0px auto" role="form" name="lives" ng-submit="submit" form-autofill-fix>
<tt>grve: {{ grve}}</tt>
                    <div class="form-group col-xs-12">
                        <label class="control-label">Groove Difficulty:</label>
                        <div class="btn-group btn-group-justified">
                            <label class="btn btn-primary diffs" ng-model="grve.diff" uib-btn-radio="'Debut'" ng-change="updateTokn()">
                                Debut</label>

                            <label class="btn btn-primary diffs" ng-model="grve.diff" uib-btn-radio="'Regular'" ng-change="updateTokn()">
                                Regular</label>

                            <label class="btn btn-primary diffs" ng-model="grve.diff" uib-btn-radio="'Pro'" ng-change="updateTokn()">
                                Pro</label>

                            <label class="btn btn-primary diffs" ng-model="grve.diff" uib-btn-radio="'Master'" ng-change="updateTokn()">
                                Master/+</label>
                        </div>

                    </div>

                    <div class="form-group col-xs-12">
                        <label class="control-label">Groove Score:</label>
                        <div class="btn-group btn-group-justified">
                            <label class="btn btn-primary" ng-model="grve.score" uib-btn-radio="'C'" ng-change="updateNorm()">
                                C</label>
                            <label class="btn btn-primary" ng-model="grve.score" uib-btn-radio="'B'" ng-change="updateNorm()">
                                B</label>
                            <label class="btn btn-primary" ng-model="grve.score" uib-btn-radio="'A'" ng-change="updateNorm()">
                                A</label>
                            <label class="btn btn-primary" ng-model="grve.score" uib-btn-radio="'S'" ng-change="updateNorm()">
                                S</label>

                        </div>
                    </div>

                    <div class="form-group col-xs-12">
                        <label class="control-label" for="appl">Applause Level:
                            <select name="appl" id="appl" ng-model="grve.appl" ng-options="lvl for lvl in applauseLevels" ng-change="updateNorm()"></select>
                        </div>
                        <div class="form-group">
                            <label>Encore Difficulty<br/>
                                <div class="btn-group btn-group-justified">
                                    <label class="btn btn-primary btn-sm" ng-model="encr.diff" uib-btn-radio="'Debut'">
                                        Debut</label>

                                    <label class="btn btn-primary btn-sm" ng-model="encr.diff" uib-btn-radio="'Regular'">
                                        Regular</label>

                                    <label class="btn btn-primary btn-sm" ng-model="encr.diff" uib-btn-radio="'Pro'">
                                        Pro</label>

                                    <label class="btn btn-primary btn-sm" ng-model="encr.diff" uib-btn-radio="'Master'">
                                        Master</label>

                                    <label class="btn btn-primary btn-sm" ng-model="encr.diff" uib-btn-radio="'Master+'">
                                        Master+</label>

                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                        <label class="control-label">Groove Score:</label>
                        <div class="btn-group btn-group-justified">
                            <label class="btn btn-primary" ng-model="encr.score" uib-btn-radio="'C'" ng-change="updateNorm()">
                                C</label>
                            <label class="btn btn-primary" ng-model="encr.score" uib-btn-radio="'B'" ng-change="updateNorm()">
                                B</label>
                            <label class="btn btn-primary" ng-model="encr.score" uib-btn-radio="'A'" ng-change="updateNorm()">
                                A</label>
                            <label class="btn btn-primary" ng-model="encr.score" uib-btn-radio="'S'" ng-change="updateNorm()">
                                S</label>

                        </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>
