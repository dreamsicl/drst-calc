<!doctype html>
<html>

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>starlight stage calculator</title>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="javascripts/respond.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="javascripts/bootstrap.min.3.3.6.js"></script>
        <link rel="stylesheet" href="https://bootswatch.com/darkly/bootstrap.min.css">
        <link rel="stylesheet" href="stylesheets/custom.css">
        <script src="javascripts/angular.min.1.5.8.js"></script>
        <script src="javascripts/app.js"></script>
        <script src="javascripts/constants.js"></script>
        <script>
            $('.panel-collapse').on('shown.bs.collapse', function() {
                $(this).prev().find(".glyphicon").removeClass("glyphicon-minus").addClass("glyphicon-plus");
            });

            //The reverse of the above on hidden event:

            $('.panel-collapse').on('hidden.bs.collapse', function() {
                $(this).prev().find(".glyphicon").removeClass("glyphicon-plus").addClass("glyphicon-minus");
            });
        </script>

        <!--[if lt IE 9]> <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script> <![endif]-->
    </head>

    <body>
        <div class="container">
            <header>
                <!--<h1>starlight stage event calculator</h1>-->

                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#token" data-toggle="tab" aria-expanded="true">Token</a>
                    </li>
                    <li class="">
                        <a href="#groove" data-toggle="tab" aria-expanded="false">Live Groove</a>
                    </li>
                </ul>

            </header>
            <section class="tab-content" ng-app="calc">
                <div class="tab-pane fade active in panel-group container-fluid row" id="token" ng-controller="TokenCtrl">
                    <!-- remaining time -->
                        <div class="panel panel-default" ng-include="'timeLeft.htm'"></div>

                        <form name="tokenSettings" novalidate>
                            <!-- live settings -->
                            <div class="panel panel-default" ng-include="'toknSettings.htm'"></div>

                            <!-- status -->
                            <div ng-class="tokenSettings.$error.required ? 'panel panel-warning' : 'panel panel-default' " ng-include="'toknStatus.htm'"></div>
                        </form>

                        <!-- results -->
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <a data-toggle="collapse" href="#results">
                                    <h3 class="panel-title">
                                        <span class="glyphicon glyphicon-minus"></span>Results</h3>
                                </a>
                            </div>
                            <div id="results" class="panel-collapse collapse in">
                                <div class="panel-body">
                                    <div ng-hide="time.deadline" class="alert alert-warning">
                                        no event!
                                    </div>
                                    <div ng-show="time.deadline">
                                        <div class="alert alert-warning" ng-show="toknSettings.$error.required">
                                            Missing input from Status.
                                        </div>
                                        <div ng-hide="toknSettings.$error.required">
                                            <ul class="list-group">
                                                <!--Progress: {{user.pts/user.end*100}}
                                    <div class="progress"><div class="progress-bar" role="progressbar" aria-valuenow="{{getPercentCompletion()}}" aria-valuemin="0" aria-valuemax="100" style="width: {{getPercentCompletion()}}%"></div></div>-->
                                                <li class="list-group-item">Event Lives Needed:
                                                    <span class="badge">{{calcEventLivesNeeded()}}</span>
                                                </li>
                                                <li class="list-group-item">Normal Lives:
                                                    <span class="badge">{{calcNormalLivesNeeded()}}</span>
                                                </li>
                                                <li class="list-group-item">End Rank:
                                                    <span class="badge">{{calcEndRank()}}</span>
                                                </li>
                                                <li class="list-group-item">Points w/ Natural Stamina:
                                                    <span class="badge">{{calcNaturalPts() | number: 0}}</span>
                                                </li>
                                                <li class="list-group-item">Stamina Deficit:
                                                    <span class="badge">{{calcStamDeficit()}}</span>
                                                </li>
                                                <li class="list-group-item" ng-class="">Play Time:
                                                    <span class="badge">{{calcPlayTime() | time:'mm':'hhh mmm':false}}</span>
                                                </li>
                                            </ul>
                                            <div class="alert alert-warning" ng-show="{{enoughTime()}}">The event will have ended before reaching your goal :(</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                </div>


                <div class="tab-pane fade in panel-group container-fluid row" id="groove" ng-controller="GrooveCtrl">
                    <div class="panel panel-default" ng-include="'timeLeft.htm'"></div>

                    <form name="grooveSettings" novalidate>
                      <div class="panel panel-default" ng-include="'grveSettings.htm'"></div>
                    </form>
                </div>
            </section>
        </div>
        <footer>
            <small class="text-muted">
                Theme:
                <a href="https://bootswatch.com/darkly/">Darkly by Bootswatch</a>
                &mdash; Issues? Contact
                <a href="http://twitter.com/aloIaninetales">Hosted Darkly @aloIaninetales</a>
            </small>
        </li>
    </footer>

</body>

</html>
